<!DOCTYPE html>
<html>
<head>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100&family=Roboto:wght@100&display=swap');
        html {
            background-color: black;
            color: #9b9b9b;
            letter-spacing: 2px;
            font-family: 'Noto Sans KR', sans-serif;
        }

        h1, h2, h3, h4, h5, h6 {
            text-rendering: optimizeLegibility;
            line-height: 1;
            margin-top: 0;
            color: inherit;
        }

        blockquote + figcaption cite {
            display: block;
            font-size: inherit;
            text-align: right;
        }

        body {word-wrap: break-word;}
        pre code {word-wrap: normal;}

        body {
            -webkit-hyphens: auto;
            -ms-hyphens: auto;
            hyphens: auto;
            color: inherit;
        }

        h1 {font-size: 2em;}
        h2 {font-size: 1.5em;}
        h3 {font-size: 1.17em;}
        h4 {font-size: 1em;}
        h5 {font-size: 0.83em;}
        h6 {font-size: 0.75em;}

        h1 {margin: 2.42424rem 0 1.454544rem;}
        h2 {margin: 2.0202rem 0 1.21212rem;}
        h3 {margin: 1.61616rem 0 1rem;}
        h4 {margin: 1.21212rem 0 1rem;}
        h5 {margin: 0.80808rem 0;}
        h6 {margin: 0.70707rem 0;}
        p {margin: auto auto 1.5rem;}
        small {font-size: 65%;}

        input,
        abbr,
        acronym,
        blockquote,
        code,
        kbd,
        q,
        samp,
        var {
            -webkit-hyphens: none;
            -ms-hyphens: none;
            hyphens: none;
        }
        pre {white-space: pre;}
        pre code {
            white-space: -moz-pre-wrap;
            white-space: pre-wrap;
        }

        code {
            white-space: pre;
        }

        abbr {
            -webkit-font-variant: small-caps;
            -moz-font-variant: small-caps;
            -ms-font-variant: small-caps;
            font-variant: small-caps;
            font-weight: 600;
            text-transform: lowercase;
            color: inherit;
        }

        abbr[title]:hover {
            cursor: help;
        }

        /* FROM http://purecss.io/layouts/side-menu/  adapted to remove pure classes*/

        body {
            color: inherit;
        }

        img {
            max-width: 600px;
            height: auto;
            display: block;
            margin: 5px 0;
        }

        code,
        pre {
            border: 1px dashed lightgreen;
            color: inherit;
            border-radius: 2px;
        }

        pre code {
            border: none;
            box-shadow: none;
            width: -webkit-fill-available;
            line-break: anywhere;
        }

        pre {
            padding: 0.5em;
        }

        code {
            display: inline-block;
            padding: 0 0.5em;
            line-height: 1.4;
            font-size: 0.9em;
        }

        table {
            border-spacing: 0;
            margin-bottom: 1.5rem;
        }

        table th,
        table td {
            padding: 0.3em 0.7em;
        }

        table th {
            background-color: #f4f4f4;
            border-bottom: 2px solid #444;
        }

        table td {
            border: 1px solid #f5f5f5;
        }

        /* Add transition to containers so they can push in and out. */

        #layout,
        #menu,
        .menu-link {
            -webkit-transition: all 0.2s ease-out;
            -moz-transition: all 0.2s ease-out;
            -ms-transition: all 0.2s ease-out;
            -o-transition: all 0.2s ease-out;
            transition: all 0.2s ease-out;
        }

        /* This is the parent `<div>` that contains the menu and the content area. */

        #layout {
            position: relative;
            padding-left: 0;
        }

        #layout.active #menu {
            left: 250px;
            width: 250px;
        }

        #layout.active .menu-link {
            left: 250px;
        }

        /* The content `<div>` is where all your content goes. */

        .content {
            font-size: 12px;
            padding: 0 2em;
            line-height: 1.6em;
        }

        /*
        The `#menu` `<div>` is the parent `<div>` that contains the menu that
        appears on the left side of the page.
        */

        #menu {
            margin-left: -250px;
            /* "#menu" width */
            width: 250px;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            background-color: #000000b8;
            z-index: 1000;
            /* so the menu or its navicon stays above all content */
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            font-size: 12px;
        }

        @media print {
            #menu,
            .menu-link {
                display: none !important;
            }
        }

        a,
        a * {
            text-decoration: none;
            color: #2483cc;
        }

        a:visited {
            text-decoration: none;
            color: #2483cc;
        }

        /* All anchors inside the menu should be styled like this. */

        #menu a {
            display: block;
            padding: 0.5em 0.5em;
            color: lightgreen;
        }

        #menu a:first-letter {
            text-transform: capitalize;
        }

        #menu ul {
            list-style-type: none;
            padding: 0;
            margin: 1em 0.5em;
        }

        #menu ul ul {
            margin-top: 0.5em;
            margin-left: 0.5em;
            border-left: 1px solid lightgreen;
        }

        /* Change color of the anchor links on hover/focus. */

        #menu li a:hover,
        #menu li a:focus {
            background: #00640061;
        }

        /* This styles the selected menu item `<li>`. */

        #menu li a.active {
            background: #00640061;
        }

        /* This styles the menu heading. */

        #menu li.heading {
            font-size: 0.9em;
            text-transform: uppercase;
            color: inherit;
        }

        #menu li.heading > * {
            padding: 0.5em;
            display: block;
        }

        #menu li.heading a {
            color: #0c68af;
        }

        /* -- Dynamic Button For Responsive Menu -------------------------------------*/

        /*
        `.menu-link` represents the responsive menu toggle that shows/hides on
        small screens.
        */

        .menu-link {
            position: fixed;
            display: block;
            /* show this only on small screens */
            top: 0;
            left: 0;
            /* "#menu width" */
            font-size: 10px;
            /* change this value to increase/decrease button size */
            z-index: 10;
            width: 2em;
            height: auto;
            padding: 1.6em 1.2em;
            border-radius: 0 2px 2px 0;
        }

        .menu-link:hover {
            background: #f4f4f4;
        }

        .menu-link span {
            position: relative;
            display: block;
        }

        .menu-link span,
        .menu-link span:before,
        .menu-link span:after {
            background-color: #555;
            width: 100%;
            height: 0.2em;
            border-radius: 1em;
        }

        .menu-link span:before,
        .menu-link span:after {
            position: absolute;
            margin-top: -0.6em;
            content: " ";
        }

        .menu-link span:after {
            margin-top: 0.6em;
        }

        /* Hides the menu at `48em`, but modify this based on your app's needs. */

        @media (min-width: 48em) {
            .header,
            .content {
                padding-left: 2em;
                padding-right: 2em;
            }

            #layout {
                padding-left: 250px;
                /* left col width "#menu" */
                left: 0;
            }
            #menu {
                left: 250px;
            }

            .menu-link {
                position: fixed;
                left: 250px;
                display: none;
            }

            #layout.active .menu-link {
                left: 250px;
            }
        }

        @media (max-width: 48em) {
            #layout.active {
                position: relative;
            }
            .content ul {
                padding-inline-start: 10px;
            }
        }

        /* Heading anchors and permalinks */
        h1[id],
        h2[id],
        h3[id],
        h4[id],
        h5[id],
        h6[id] {
            position: relative;
        }
        .heading-anchor-permalink {
            /* Position the permalink to the left of the title */
            position: absolute;
            right: 100%;
            /* Add some spacing as padding to not lose the hover */
            padding-right: 0.6rem;
            /* Make it only visible on heading hover, see below */
            opacity: 0;
        }
        h1[id]:hover .heading-anchor-permalink,
        h2[id]:hover .heading-anchor-permalink,
        h3[id]:hover .heading-anchor-permalink,
        h4[id]:hover .heading-anchor-permalink,
        h5[id]:hover .heading-anchor-permalink,
        h6[id]:hover .heading-anchor-permalink {
            opacity: 0.5;
        }
    </style>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="utf-8" />
</head>

<body>
<div id="layout">
    <!-- Menu toggle -->
    <a href="#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>
    <nav id="menu">
        <ul>
<li><a class="" href="../index.html">index</a></li>
<li class="heading"><span>Machine Learning</span></li>
<ul>
<li><a class="" href="../1-Machine Learning/1-Convolution.html">Convolution</a></li>
<li><a class="" href="../1-Machine Learning/2-Embedding.html">Embedding</a></li>
<li><a class="" href="../1-Machine Learning/3-Preprocessing.html">Preprocessing</a></li>
<li><a class="" href="../1-Machine Learning/4-Categorizer.html">Categorizer</a></li>
<li><a class="" href="../1-Machine Learning/5-LSTM RNN CNN.html">LSTM RNN CNN</a></li>
<li><a class="" href="../1-Machine Learning/6-Sentiment Modeling.html">Sentiment Modeling</a></li>
<li><a class="" href="../1-Machine Learning/7-Bagging and Boosting.html">Bagging and Boosting</a></li>
<li><a class="" href="../1-Machine Learning/8-Chatbot.html">Chatbot</a></li>
<li><a class="" href="../1-Machine Learning/Transformer.html">Transformer</a></li>
</ul>
<li class="heading"><span>WebRTC</span></li>
<ul>
<li><a class="" href="../2-WebRTC/APIs.html">APIs</a></li>
<li><a class="" href="../2-WebRTC/Mechanism.html">Mechanism</a></li>
<li><a class="" href="../2-WebRTC/Signaling.html">Signaling</a></li>
<li><a class="" href="../2-WebRTC/Zoom API.html">Zoom API</a></li>
</ul>
<li class="heading"><span>Azure</span></li>
<ul>
<li><a class="" href="../3-Azure/App Service Warmer.html">App Service Warmer</a></li>
<li><a class="" href="../3-Azure/Deployment.html">Deployment</a></li>
</ul>
<li class="heading"><span>Flutter</span></li>
<ul>
<li><a class="" href="1-Setup.html">Setup</a></li>
<li><a class="" href="2-Widget.html">Widget</a></li>
<li><a class="" href="3-Assets.html">Assets</a></li>
<li><a class="" href="4-Http Request.html">Http Request</a></li>
<li><a class="" href="5-FCM 연동.html">FCM 연동</a></li>
<li><a class="" href="6-Rich Text Editor.html">Rich Text Editor</a></li>
<li><a class="active" href="7-Build Context.html">Build Context</a></li>
<li><a class="" href="8-Native Code 연동.html">Native Code 연동</a></li>
</ul>
<li class="heading"><span>NestJS</span></li>
<ul>
<li><a class="" href="../60-NestJS/Firebase Cloud Messaging.html">Firebase Cloud Messaging</a></li>
<li><a class="" href="../60-NestJS/MySQL and Typeorm.html">MySQL and Typeorm</a></li>
<li><a class="" href="../60-NestJS/NestJS and Keycloak.html">NestJS and Keycloak</a></li>
</ul>
<li class="heading"><span>ETC</span></li>
<ul>
<li><a class="" href="../99-ETC/CloudStorage.html">CloudStorage</a></li>
<li><a class="" href="../99-ETC/Deploy iOS Application.html">Deploy iOS Application</a></li>
<li><a class="" href="../99-ETC/FCM.html">FCM</a></li>
<li><a class="" href="../99-ETC/GithubPage.html">GithubPage</a></li>
<li><a class="" href="../99-ETC/MQvsKafka.html">MQvsKafka</a></li>
</ul>
</ul>
    </nav>
    <article id="main" class="content">
        <h1 id="build-context%EB%9E%80%3F">Build Context란? <a class="heading-anchor-permalink" href="#build-context%EB%9E%80%3F">#</a></h1>
<h6 id="tags%3A-flutter">tags: <code>Flutter</code> <a class="heading-anchor-permalink" href="#tags%3A-flutter">#</a></h6>
<h3 id="%EC%A0%95%EC%9D%98">정의 <a class="heading-anchor-permalink" href="#%EC%A0%95%EC%9D%98">#</a></h3>
<p>Build Context는 말 그대로 어떠한 위젯이 만들어(build)질 때 생성되는 context이며,
여기서 context는 트리구조의 Widget 집합에서 특정 위젯의 위치를 나타낸다.
위치라고 했지만 실제 해당 위젯의 속성을 내포하고 있는 객체다.</p>
<h3 id="navigator%EC%97%90%EC%84%9C%EC%9D%98-context">Navigator에서의 Context <a class="heading-anchor-permalink" href="#navigator%EC%97%90%EC%84%9C%EC%9D%98-context">#</a></h3>
<p>우리는 앱을 만드는데 있어 여러개의 navigator를 사용하는 환경을 경험해 봤을 것이다.
하단에 Global Navigation 메뉴 A, B, C, D가 있다고 가정해보자.
그럼 각각 메뉴는 자신만의 navigator를 내포하고 있을 수 있는데,
메뉴 안에서 Navigator.of(context).pushNamed(‘myRoute’)라는 함수를 호출하게 된다면
context는 자신이 속해있는 트리구조에서 가장 가까운 부모의 NavigatorState찾아 myRoute를 푸쉬하게 되며,
여기서는 Global Navigation메뉴의 context가 아닌 A, B, C, D메뉴 중 하나의 context가 될 것이다.
반대로 만약 Global Navigation메뉴의 context를 인자로 넘겨 준다면 가장 최상단에 위치한
부모의 context를 이용해 global navigation 이동도 가능하니 알아두자.
:::warning
<img src="https://i.imgur.com/bWOE3et.png" width="300px"/> <br>
meeting_view의 context로 navigator pop했을때는 가장 가까운 nav_b를 사용하게 되니
정상적으로 meeting_view에서 office_view로 이동했고,
main_view의 build context를 meeting_view에 넘겨주어 main_view의 context로
pop했을 때는 nav_a(가장 가까운 navigator)를 사용하게 되니
meeting_view에서 검은 화면(정상적으로 main_view가 pop됨)으로 이동됬다.
:::</p>
<h3 id=".of(context)-%ED%95%A8%EC%88%98">.of(context) 함수 <a class="heading-anchor-permalink" href="#.of(context)-%ED%95%A8%EC%88%98">#</a></h3>
<p>위 Navigator에서 설명한 것과 같이 .of함수는 context가 속해있는 위젯 트리에서
가장 가까운 부모중 해당 위젯(Navigator)을 찾게 된다.
이는 Navigator뿐만 아니라 Scaffold, Material 등 다양한 위젯에서 .of함수를 사용했을 때 동일하게 적용된다.</p>
<h3 id="builder-%EC%9C%84%EC%A0%AF">Builder 위젯 <a class="heading-anchor-permalink" href="#builder-%EC%9C%84%EC%A0%AF">#</a></h3>
<pre><code class="language-java=">// Widget Parent

@override
Widget build(BuildContext context) {
return new Scaffold(
    appBar: new AppBar(
      title: new Text(widget.title),
    ),
    body: new Container(),
    floatingActionButton: new FloatingActionButton(onPressed: () {
      Scaffold.of(context).showSnackBar( // &lt;-- 이 부분에서 오류발생
            new SnackBar(
              content: new Text('SnackBar'),
            ),
          );
    }));
}
</code></pre>
<p>위 예제에서 우리는 scaffold안에 snackbar를 표시해 주고 싶다.
하지만 위 예제는 정상 작동하지 않을 것인데 그 이유는 바로 context에 있다.
저기서 context가 가르키고 있는 위젯은 Scaffold가 아닌 Parent Widget이다.
Parent Widget의 상위에 Scaffold가 존재하면 해당 위젯을 찾아오겠지만 그렇지 않을 경우
null을 리턴하게 되며 에러가 발생한다.
이를 해결하는 방법은 간단하다. Builder 위젯을 사용해 주면 되는데 예시는 아래와 같다.</p>
<pre><code class="language-java=">@override
Widget build(BuildContext context) {
return new Scaffold(
    appBar: new AppBar(
    title: new Text(widget.title),
    ),
    body: new Container(),
    floatingActionButton: new Builder(builder: (context) { // &lt;-- 이 부분
    return new FloatingActionButton(onPressed: () {
      Scaffold.of(context).showSnackBar(
            new SnackBar(
              backgroundColor: Colors.blue,
              content: new Text('SnackBar'),
            ),
          );
    });
    }));
}
</code></pre>
<p>위 처럼 Builder위젯을 선언해 주면 context를 받을 수 있는데
해당 context를 기점으로 Scaffold.of(context)를 호출 하면 가장 가까운 부모 중 Scaffold가 존재하기 때문에
정상적으로 해당 Scaffold에 snackbar를 띄워줄 수 있게된다.</p>
<h3 id="buildcontext-class-%EB%82%B4%EB%B6%80">BuildContext class 내부 <a class="heading-anchor-permalink" href="#buildcontext-class-%EB%82%B4%EB%B6%80">#</a></h3>
<ul>
<li>debugDoingBuild: 위젯이 변경사항이 update되고 있는지 확인할 수 있는 boolean</li>
<li>hashCode: 현재 build context 오브젝트의 고유 hash</li>
<li>owner: 위젯의 구조 변경을 담당</li>
<li>runtimeType: 런타임에서 해당 오브젝트가 어떤 primitive 타입을 가지고 있는지 식별</li>
<li>size: 렌더링된 위젯의 사이즈</li>
<li>widget: 해당 build context의 위젯</li>
</ul>

    </article>
</div>
<script>
    // Load contents.json if you need it
</script>
<script>
    // FROM http://purecss.io/js/ui.js
    (function(window, document) {
        var layout = document.getElementById("layout"),
            menu = document.getElementById("menu"),
            menuLink = document.getElementById("menuLink");

        function toggleClass(element, className) {
            var classes = element.className.split(/\s+/),
                length = classes.length,
                i = 0;

            for (; i < length; i++) {
                if (classes[i] === className) {
                    classes.splice(i, 1);
                    break;
                }
            }
            // The className is not found
            if (length === classes.length) {
                classes.push(className);
            }

            element.className = classes.join(" ");
        }

        menuLink.onclick = function(e) {
            var active = "active";

            e.preventDefault();
            toggleClass(layout, active);
            toggleClass(menu, active);
            toggleClass(menuLink, active);
        };
    })(this, this.document);
</script>
</body>
</html>
